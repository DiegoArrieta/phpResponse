<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Hotel Valdivia</title>
  <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Calistoga&display=swap" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/moment.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/locale/es.js"></script>
  <link rel="stylesheet" href="assets/jquery/pg-calendar-master/dist/css/pignose.calendar.min.css">
  <script src="assets/jquery/pg-calendar-master/dist/js/pignose.calendar.min.js"></script>
  <script src="https://kit.fontawesome.com/caf90a881e.js" crossorigin="anonymous"></script>
</head>

<body style="font-family: 'Calistoga', cursive;">
  <header>
    <div class="bg-gray-100 font-sans w-full m-0">
      <div class="bg-white shadow">
        <div class="container mx-auto px-4">
          <div class="flex items-center justify-between py-4">
            <div>
              <img class="w-10 h-10" src="assets/images/logo.svg">
            </div>
            <div class="hidden sm:flex sm:items-center">
              <a href="#" class="text-gray-800 text-sm font-semibold hover:text-purple-600 mr-4">Home</a>
              <a href="#" class="text-gray-800 text-sm font-semibold hover:text-purple-600 mr-4">Reservas</a>
            </div>
          </div>
          <div class="block sm:hidden bg-white border-t-2 py-2">
            <div class="flex flex-col">
              <a href="#" class="text-gray-800 text-sm font-semibold hover:text-purple-600 mb-1">Home</a>
              <a href="#" class="text-gray-800 text-sm font-semibold hover:text-purple-600 mb-1">Reservas</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>
  <section>
    <div class="flex flex-wrap w-full mt-20">
      <div class="w-full md:w-1/2">
        <h1 class="text-center text-xl">Bienvenidos!</h1>
        <img class="w-full h-64" src="assets/images/logo.svg">
        <p class="w-full text-center">
          Avenida Alemania #766, Valdivia Región de los Rios.
        </p>
      </div>
      <div class="w-full md:w-1/2">
        <h1>Reservar Habitación</h1>
        <form class="w-full max-w-lg">
          <div class="flex flex-wrap -mx-3 mb-6">
            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="formulario-nombre">
                Nombre
              </label>
              <input
                class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                id="formulario-nombre" type="text" placeholder="Ej: Juan">

            </div>
            <div class="w-full md:w-1/2 px-3">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                for="formulario-apellido">
                Apellido
              </label>
              <input
                class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                id="formulario-apellido" type="text" placeholder="Ej: Soto">
            </div>

          </div>
          <div class="flex flex-wrap -mx-3 mb-6">
            <div class="w-full md:w-1/6">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                for="formulario-apellido">
                &nbsp;
              </label>
              <button
                class="calendar text-center w-12 appearance-none block bg-blue-400 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                id="formulario-btnCalendar" type="text"><i class="text-white fas fa-calendar"></i></button>
            </div>
            <div class="w-full md:w-1/4 px-3">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                for="formulario-finicio">
                Fecha Inicio
              </label>
              <input
                class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                id="formulario-finicio" type="text">
            </div>
            <div class="w-full md:w-1/4 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                for="formulario-ftermino">
                Termino
              </label>
              <input
                class="calendar appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                id="formulario-ftermino" type="text">

            </div>
            <div class="w-full md:w-1/4 px-3">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="formulario-dtotal">
                Días Totales
              </label>
              <input
                class="appearance-none text-center block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                id="formulario-dtotal" type="text">
            </div>
            <div class="flex flex-wrap -mx-3 mt-6">
              <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-state">
                  Habitacion
                </label>
                <div class="relative">
                  <select
                    class="block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                    id="formulario-habitacion">

                  </select>
                  <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                    <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                      <path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z" /></svg>
                  </div>
                </div>
              </div>
              <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-state">
                  Habitacion
                </label>
                <div class="relative">
                  <select
                    class="block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                    id="formulario-habitacion">

                  </select>
                  <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                    <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                      <path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z" /></svg>
                  </div>
                </div>
              </div>
              <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-zip">
                  Costo
                </label>
                <input
                  class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                  id="formulario-costo" type="text" placeholder="">
              </div>
            </div>
          </div>
      </div>
      </form>
      <div class="w-full calender"></div>

    </div>
    </div>
  </section>
  <script>
    $(function () {
      $('.calendar').pignoseCalendar({
        select: function (date, context) {
          /**
           * @params this Element
           * @params date moment[]
           * @params context PignoseCalendarContext
           * @returns void
           */

          // This is selected button Element.
          var $this = $(this);

          // You can get target element in `context` variable, This element is same `$(this)`.
          var $element = context.element;

          // You can also get calendar element, It is calendar view DOM.
          var $calendar = context.calendar;

          // Selected dates (start date, end date) is passed at first parameter, And this parameters are moment type.
          // If you unselected date, It will be `null`.
          console.log(date[0].format('YYYY-MM-DD'));
          $('#formulario-finicio').val(date[0].format('YYYY-MM-DD'));
          $('#formulario-ftermino').val(date[1].format('YYYY-MM-DD'));

          //Calculo de días entre las fechas seleccionadas
          var date1 = new Date(date[0].format('YYYY-MM-DD'));
          var date2 = new Date(date[1].format('YYYY-MM-DD'));
          var Difference_In_Time = date2.getTime() - date1.getTime();
          var Difference_In_Days = Difference_In_Time / (1000 * 3600 * 24);
          $('#formulario-dtotal').val(Difference_In_Days + 1);

        },
        lang: 'es',
        multiple: true,
        week: 1,
        toggle: false,
        modal: true,
        buttons: true,
        format: 'YYYY-MM-DD'
      });
    });

    $(document).ready(function () {
      $.ajax({
        url: 'https://zeussapp.herokuapp.com/habitacion.php',
        dataType: 'json',
        type: 'get',
        success: function (data) {
          console.log(data);
          var opcion = '';
          opcion += '<option selected value>Seleccione...</option>';
          $.each(data, function (i, j) {
            opcion += '<option value="' + j.precio + '">' + j.tipo + ' $' + j.precio + '.-</option>'
          });
          $('#formulario-habitacion').html(opcion);
        }

      });
      $(function () {
        $("#formulario-habitacion").on('change', function () {
          $("#formulario-costo").val($("#formulario-habitacion").val() * $("#formulario-dtotal").val())
        });
      });

    });
  </script>
</body>

</html>